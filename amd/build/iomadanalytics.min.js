define(["jquery","/report/iomadanalytics/amd/src/Chart.min.js","core/ajax"],function(a,b,c){return{init:function(){a(document).ready(function(){function d(b){a("#"+b).click(function(){a("#"+b).prop("checked")===!0?a(".country-"+b+" input").prop("checked",!0):a(".country-"+b+" input").prop("checked",!1)})}function e(){alert("me");var a=c.call([{methodname:"report_iomadanalytics_filters",args:{filters:"pluginname"}}]);a[0].done(function(a){alert("mod_wiki/pluginname is"+a)}).fail(function(a){console.log(a)})}for(var f=["ID","MY"],g="/report/iomadanalytics/templates/",h="",i=0;i<f.length;i++)d(f[i]);b.defaults.global.colours=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],a.getJSON(g+"graph_grades_all_companies.json",function(a){new b(document.getElementById("chart-grades").getContext("2d"),{type:"bar",data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}),a.getJSON(g+"graph_progress_all_companies.json",function(c){for(i in c.companies)h="chart-progress-"+c.companies[i].id,a("#progressGraph").append('<div class="col-md-4"><canvas id="'+h+'"></canvas></div>'),console.log(c.companies[i].company),new b(document.getElementById(h).getContext("2d"),{type:"pie",data:c.companies[i].graph,options:{legend:!1,title:{display:!0,position:"bottom",text:c.companies[i].company}}})}),a("#btn").click(function(){e()})})}}});